(function(e,t){"use strict";function i(e,t){return function(){this._super=t;var i=e.apply(this,arguments);return delete this._super,i}}function n(t,i){if(!t)return null;var n=e.getComputedStyle?e.getComputedStyle(t,null).getPropertyValue(i):t["scroll"+i.charAt(0).toUpperCase()+i.slice(1)];return parseInt(n,10)||0}function r(e){if(e[fab.event.expando])return e;var t,i=e,n=y.length;for(e=new fab.Event(i);!i.substr&&n--;)t=y[n],t in i&&(e[t]=i[t]);return e}function s(e){e=r(e),e.currentTarget=this;var t,i=fab.event.cache(this),n=!0,s=[];for(s=s.concat(i.handlers["*"]||[],i.handlers[e.type]||[]);(t=s.shift())&&(n=t.call(this,e),n===!1&&(e.preventDefault(),e.stopPropagation()),!e.isImmediatePropagationStopped()););return n}function a(){return!1}function o(){return!0}function h(){}function u(){}function HTMLRenderer(e){this.init(e)}function FabuloosFlashRenderer(e){this.init(e)}var fab=function(e){if(this instanceof fab)return this.init(e);for(var t,i=e?e.element||e:{},n=i.replace?i.replace("#",""):i.id,r=0;n&&(t=fab.instances[r++]);)if(t._id===n)return t;return new fab(e)},c="error networkState readyState width height videoWidth videoHeight src currentSrc preload buffered currentTime duration defaultPlaybackRate playbackRate seeking seekable paused played ended poster autoplay controls loop volume muted",l="type",p="width height src preload currentTime defaultPlaybackRate playbackRate poster autoplay controls loop volume muted",f={first:"on element",last:"src"},d="autoplay controls loop muted",g=/audio|video/i,m=/^_/,v=/xyz/.test(function(){"xyz"})?/\b_super\b/:/.*/;fab.extend=function(){var e,t,n,r,s=Array.prototype.slice.call(arguments);for(1===s.length&&s.unshift(this.prototype),e=s.length-1;e>0;e--){t=s[e],n=s[e-1];for(r in t)n[r]="function"==typeof t[r]&&v.test(t[r])?i(t[r],n[r]):t[r]}},fab.extend(fab,{instances:[],shorthand:function(e){return function(){return this._renderer&&"function"==typeof this._renderer[e]&&this._renderer[e](),this}},toArray:function(e){return Array.prototype.slice.call(e)},UID:0,version:"1.0.0-alpha"}),fab.extend({init:function(e){this._id&&(this.destroy(),delete this._element);var t,i={};if(e&&e.constructor===Object)for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i.element=i.element||e||null,fab.instances.push(this),this._triggerer=this.closure("trigger"),this._uid="fabuloos-"+ ++fab.UID,this.config(i),this},attach:function(){var e,t=fab.event.cache(this);if(this._renderer)for(e in t.handlers)this._renderer.bind(e);return this},closure:function(e){var i=this,n=fab.toArray(arguments);return n.shift(),function(){return i[e]?i[e].apply(i,n.concat(fab.toArray(arguments))):t}},cmd:function(e){var i=fab.toArray(arguments);return i.shift(),this[e]?this[e].apply(this,i):t},config:function(){return arguments.length?this.set.apply(this,arguments):this._config},destroy:function(){var e,t=0,i=fab.instances.length;for(this.restore();i>t;t++)if(fab.instances[t]===this){fab.instances.splice(t,1);break}for(e in this)m.test(e)&&delete this[e];return null},detach:function(){var e,t=fab.event.cache(this);if(this._renderer)for(e in t.handlers)this._renderer.unbind(e);return this},element:function(e){if(e===t&&"_element"in this)return this._element;var i,n,r,s,a=e||{},o=a.replace?a.replace("#",""):a.id;if(this._old&&this.restore(),this._id=o||this._uid,this._old=this._element=a.nodeName?a:document.getElementById(o),this._config={},this._element&&g.test(this._element.nodeName)){for(i=fab.toArray(this._element.attributes);n=i.shift();)this._config[n.name]=n.value||!0;if(!this._config.src)for(this._config.src=[],r=fab.toArray(this._element.getElementsByTagName("source"));s=r.shift();){for(i=fab.toArray(s.attributes),s={};n=i.shift();)s[n.name]=n.value||!0;this._config.src.push(s)}this.src(this._config.src)}return this},get:function(e){return this._renderer?this._renderer.get(e):t},height:function(e){return this.size("height",e)},load:fab.shorthand("load"),off:function(e,t){var i,n=fab.event.cache(this),r=[];if(arguments[0]&&arguments[0].constructor===Object){for(i in arguments[0])this.off(i,arguments[0][i]);return this}for(i in n.handlers)r.push(i);if(fab.event.off(this,e,t),this._renderer)for(;i=r.shift();)n.handlers[i]||this._renderer.unbind(i);return this},on:function(e,t){if(1===arguments.length){for(var i in arguments[0])this.on(i,arguments[0][i]);return this}return"string"!=typeof e||"function"!=typeof t?this:(fab.event.on(this,e,t),this._renderer&&this._renderer.bind(e),this)},pause:fab.shorthand("pause"),play:fab.shorthand("play"),renderer:function(e){var t=this;if(!e)return this._renderer;if(!e.canPlay)throw"This renderer isn't valid.";return e.isSupported?(this.trigger("renderer.changing"),this._config.id=this._id,this._config.width=this._config.width||0,this._config.height=this._config.height||0,this.detach(),this._renderer&&this._renderer.destroy(),this._renderer=new e(this._config),this._renderer.triggerer=this._triggerer,this._renderer.replace(this._element),this._renderer.ready(function(){t._element=this.element,t.attach(),t.trigger("renderer.ready")}),this):this.trigger("error")},renderers:function(e){if(!e)return this._renderers;if(e===h.supported)return this._renderers=h.supported,this;for(var t,i=e.push?e.slice(0):[e],n=0;t=i[n];)n+="isSupported"in t&&t.isSupported?1:i.splice(n,1).length-1;return this._renderers=i,this},restore:function(){return this._element&&this._old&&this._element!==this._old&&this._element.parentNode.replaceChild(this._old,this._element),this._id=this._uid,this._old=this._element=null,this},set:function(e,t){if(1===arguments.length){var i,n,r={},s={},a=fab.toArray(f.first.split(" ")),o=fab.toArray(f.last.split(" ")),h=["first","middle","last"];for(i in arguments[0])r[i]=arguments[0][i];for(;i=a.shift();)i in r&&(s.first=s.first||{},s.first[i]=r[i],delete r[i]);for(;i=o.shift();)i in r&&(s.last=s.last||{},s.last[i]=r[i],delete r[i]);for(s.middle=r;n=h.shift();)for(i in s[n])t=s[n][i],"src"===i&&(t=t&&t.substr?arguments[0]:t),this.set(i,t);return this}return RegExp(e).test(l)?this:("function"!=typeof this[e]||this[e].accessor?RegExp(e).test(p)?this._config[e]=this._renderer?this._renderer.set(e,t):t:this["_"+e]=t:this[e](t),this)},size:function(e,i){if(arguments[0]&&arguments[0].constructor===Object){for(var r in arguments[0])this.size(r,arguments[0][r]);return this}if(!arguments.length)return{width:n(this._element,"width"),height:n(this._element,"height")};if("width"===e||"height"===e){if(i===t)return n(this._element,e);this._element&&(this._element[e]=parseInt(i,10)||0)}return this},sources:function(e){if(e===t)return this._sources;if(this._renderers===t&&this.renderers(h.supported),null===e||0===e.length)return this._sources=[],this;var i,n,r,s,a=e.push?e.slice(0):[e];for(this._sources=[];n=a.shift();){for(i={},i.src=n.src||(n.substr?n:null),i.type=n.type||h.guessType(i.src),i.solutions={},r=this._renderers.slice(0);s=r.shift();)i.solutions[s.name]=s.canPlay(i.src,i.type);this._sources.push(i)}return this},src:function(e){if(e===t)return this.get("src");e!==this._sources&&this.sources(e);for(var i,n,r=0,s=0,a=this._renderers.length;i=this._sources[r++];){if(this._renderer&&i.solutions[this._renderer.constructor.name])return this._renderer.set("src",i.src),this;for(s=0;a>s;s++)if(n=this._renderers[s],(!this._renderer||this._renderer.constructor!==n)&&(i.solutions[n.name]===t&&(i.solutions[n.name]=n.canPlay(i.src,i.type)),i.solutions[n.name]))return this._config.src=i.src,this.renderer(n)}return this},toggle:function(e){return RegExp(e).test(d)&&this._renderer&&this.set(e,!this.get(e)),this},trigger:function(e){return fab.event.trigger(this,e),this},width:function(e){return this.size("width",e)}}),function(){function e(e){var t=function(){return this[arguments.length?"set":"get"](e,arguments[0])};return t.accessor=!0,t}for(var t,i=c.split(" "),n={};t=i.shift();)fab.prototype[t]||(n[t]=e(t));fab.extend(n)}(),e.fabuloos=e.fab=fab;var y="bubbles cancelable currentTarget eventPhase relatedTarget target timeStamp".split(" "),_=/\s+/,q=/^\s+|\s+$/g;fab.event={_cache:{},cache:function(e){var t=e[fab.event.expando];return t||(t=e[fab.event.expando]=++fab.event.uid,fab.event._cache[t]={handlers:{},manager:function(t){return s.call(e,t)}}),fab.event._cache[t]},expando:"_fab-"+ +new Date,api:{off:function(e,t){return fab.event.off(this,e,t),this},on:function(e,t){return fab.event.on(this,e,t),this},trigger:function(e){return fab.event.trigger(this,e),this}},off:function(e,t,i){var n,r,s,a=fab.event.cache(e);if(!t){t="";for(n in a.handlers)t+=n+" "}for(t=t?t.replace(q,"").split(_):[];n=t.shift();)if(r=a.handlers[n]){for(i||(r.length=0),s=r.length;s--;)r[s]===i&&r.splice(s,1);r.length||(delete a.handlers[n],e.removeEventListener?e.removeEventListener(n,a.manager,!1):e.detachEvent&&e.detachEvent("on"+n,a.manager))}},on:function(e,t,i){var n,r=fab.event.cache(e);for(t=t?t.replace(q,"").split(_):[];n=t.shift();)r.handlers[n]||(r.handlers[n]=[],e.addEventListener?e.addEventListener(n,r.manager,!1):e.attachEvent&&e.attachEvent("on"+n,r.manager)),r.handlers[n].push(i)},trigger:function(e,t){return s.call(e,t)},uid:0},fab.on=fab.event.on,fab.off=fab.event.off,fab.trigger=fab.event.trigger,fab.Event=function(e){return this instanceof fab.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===t&&e.getPreventDefault&&e.getPreventDefault()?o:a):this.type=e,this.timeStamp=e&&e.timeStamp||+new Date,this[fab.event.expando]=!0,t):new fab.Event(e)},fab.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=o,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=o,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()}},h.mimes={application:{m3u8:"vnd.apple.mpegurl",f4m:"f4m+xml","smil, csmil":["smil+xml","smil"]},video:{"3gp":"3gpp","3g2":"3gpp2",flv:"x-flv",m4v:["x-m4v","m4v"],ogv:"ogg","mp4, f4v, f4p":"mp4","mov, qt":"quicktime",webm:"webm",wmv:"x-ms-wmv"},audio:{f4a:"mp4",mp3:"mpeg",m4a:"x-m4a","ogg, oga":"ogg",wav:["wav","wave","x-wav"],weba:"webm",wma:"x-ms-wma"}};var b=/([^,]+)/g,w=/\.([\w\d])+(?=\/|\?|#|$)/g,x=/function (\w+)/,_=/\s+/,q=/^\s+|\s+$/g,P=/\d+/g;h.extend=function(){var e,t,i,n,r=Array.prototype.slice.call(arguments);for(1===r.length&&r.unshift(this.prototype),e=r.length-1;e>0;e--){t=r[e],i=r[e-1];for(n in t)i[n]=t[n]}},h.extend(h,{canPlay:function(e,t){var i,n,r=2===arguments.length?t:h.guessType(e),s=0,a="";for(r=r||[],r=r.push?r:[r],i=r.length;i>s;s++){if(n=this.canPlayType(r[s]),"probably"===n)return n;a=a||n}return a},canPlayType:function(e){return this.types[e]||""},guessType:function(e){var t,i;if(e&&e.length>5&&(e=e.match(w),e=e?e[e.length-1].substring(1):""),e){e=RegExp(e,"i");for(t in h.mimes)for(i in h.mimes[t])if(e.test(i))return h.mimes[t][i].push?h.mimes[t][i].join().replace(b,t+"/$1").split(","):t+"/"+h.mimes[t][i]}},inherit:function(e){if(!this.name){var t=x.exec(""+this);this.name=t?t[1]:"unknown"}this.prototype=new e,this.prototype.constructor=this},isPluginSupported:function(t){var i,n,r,s,a=t.minVersion,o=0;if(navigator.plugins&&navigator.plugins[t.plugin])i=navigator.plugins[t.plugin].description;else if(e.ActiveXObject)try{n=new ActiveXObject(t.activex);try{if("boolean"==typeof n.IsVersionSupported(a))return n.IsVersionSupported(a)}catch(h){}i=n.getVariable("$version")}catch(u){}if(i){for(i=i.match(P),a=a.match(P),s=a.length;s>o;o++)if(r=(parseInt(i[o],10)||0)-(parseInt(a[o],10)||0),0!==r)return r>0;return!0}return!1},register:function(e){e.isSupported&&(this.supported.push(e),h[e.name]=e)},instances:{},shorthand:function(e){return function(){return this.api&&"function"==typeof this.api[e]?this.api[e].apply(this.api,arguments):t}},supported:[]}),h.extend({init:function(e){var t=this.constructor,i=h.instances[t.name];return this.callbacks=[],this.config=e,this.events={},i||(h.instances[t.name]=t.instances=i={}),i[e.id]=this,this},bind:function(e){var t;for(e=e?e.replace(q,"").split(_):[];t=e.shift();)!this.events[t]&&this.api&&"function"==typeof this.api.bind&&(this.api.bind(t),this.events[t]=!0);return this},closure:function(e){var i=this,n=Array.prototype.slice.call(arguments);return n.shift(),function(){return i[e]?i[e].apply(i,n.concat(Array.prototype.slice.call(arguments))):t}},destroy:function(){var e=h.instances[this.constructor.name];return e[this.config.id]&&delete e[this.config.id],null},isReady:!1,load:h.shorthand("load"),pause:h.shorthand("pause"),play:h.shorthand("play"),get:function(e){return this.isReady?"function"==typeof this.api.get?this.api.get(e):this.api[e]:t},ready:function(e){if(this.isReady)return"function"==typeof e?e.call(this)&&t:t;if(e)return"function"==typeof e?!!this.callbacks.push(e):!1;for(;this.callbacks&&(e=this.callbacks.shift());)e.call(this);delete this.callbacks,this.isReady=!0},set:function(e,t){if(this.isReady){if("function"==typeof this.api.set)return this.api.set(e,t);try{this.api[e]=t}catch(i){}return this.api[e]}},trigger:function(e){this.triggerer&&this.triggerer(e)},unbind:function(e){var t;for(e=e?e.replace(q,"").split(_):[];t=e.shift();)this.events[t]&&this.api&&"function"==typeof this.api.unbind&&(this.api.unbind(t),delete this.events[t]);return this}}),e.Renderer=h,u.params={allowscriptaccess:"always",wmode:"transparent"},u.plugin={minVersion:"10.1",plugin:"Shockwave Flash",activex:"ShockwaveFlash.ShockwaveFlash"},u.extend=h.extend,u.extend(u,{isOldIE:function(){var e=navigator.userAgent.match(/MSIE (\d+)/);return e?9>e[1]:!1}(),isSupported:h.isPluginSupported(u.plugin),replace:function(e){var t,i,n,r,s={id:this.config.id,name:this.config.id,width:this.config.width,height:this.config.height,type:"application/x-shockwave-flash",data:this.constructor.swf},a=[],o={},c=document.createElement("object");h.extend(o,u.params),u.isOldIE&&(s.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",o.movie=s.data,delete s.type,delete s.data);for(t in s)c[t]=s[t];for(i in this.config)i in s||a.push(i+"="+this.config[i]);a.length&&(o.flashvars=a.join("&"));for(n in o)r=document.createElement("param"),r.name=n,r.value=o[n],c.appendChild(r);return this.element=this.api=c,e&&e.parentNode.replaceChild(this.element,e),this}}),HTMLRenderer.tester=document.createElement("video"),HTMLRenderer.inherit=h.inherit,HTMLRenderer.inherit(h),HTMLRenderer.extend=h.extend,HTMLRenderer.extend(HTMLRenderer,{canPlay:h.canPlay,canPlayType:function(e){return HTMLRenderer.isSupported?HTMLRenderer.tester.canPlayType(e):""},isSupported:!!HTMLRenderer.tester.canPlayType,rMedia:/audio|video/i,support:{autoplay:!1}}),e.setTimeout(function(){var e=new Audio("data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq");e.autoplay=!0,e.addEventListener("play",function(){HTMLRenderer.support.autoplay=!0})},0),HTMLRenderer.extend({fix:function r(){if(!this.element||this.element.fixed)return this;var e=/AppleWebKit\/([\d]+)/.exec(navigator.userAgent);return e=e?parseInt(e[1],10):null,e&&535>e&&this.element.addEventListener("loadeddata",function(){try{this.currentTime=1e-5}catch(e){}},!1),this.element.fixed=!0,this},replace:function(e){var t,i=this.triggerer;if(e&&HTMLRenderer.rMedia.test(e.nodeName))this.element=e;else{this.element=document.createElement("video");for(t in this.config)try{this.element[t]=this.config[t]}catch(n){}}return this.api=this.element,this.api.bind=function(e){this.addEventListener(e,i,!1)},this.api.unbind=function(e){this.removeEventListener(e,i,!1)},this.fix(),e&&e.parentNode.replaceChild(this.element,e),this.ready(),this}}),h.register(HTMLRenderer),FabuloosFlashRenderer.swf="/js/FabuloosFlashRenderer-1.0.0-alpha.swf",FabuloosFlashRenderer.types={"application/f4m+xml":"probably","application/smil+xml":"probably","video/mp4":"maybe","video/x-m4v":"maybe","video/x-flv":"maybe","video/3gpp":"maybe","video/quicktime":"maybe","audio/mp3":"maybe"},FabuloosFlashRenderer.inherit=h.inherit,FabuloosFlashRenderer.inherit(h),FabuloosFlashRenderer.extend=h.extend,FabuloosFlashRenderer.extend(FabuloosFlashRenderer,{canPlay:function(){return FabuloosFlashRenderer.rRTMP.test(arguments[0])?"probably":h.canPlay.apply(this,arguments)},canPlayType:h.canPlayType,isSupported:u.isSupported,rRTMP:/^rtmp/i}),FabuloosFlashRenderer.extend({play:h.shorthand("_play"),replace:u.replace}),h.register(FabuloosFlashRenderer)})(window);